"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[279],{50279:(e,a,s)=>{s.r(a),s.d(a,{default:()=>g});s(96656),s(92221),s(68374);var l=s(85608),i=s(31085),n=s(14041),t=s(66820),r=s(30125),c=s(41245),o=s(47086),d=s(78008),u=s(18861),m=s(73922),p=s(22214);s(30936),s(68037);const g=e=>{var{className:a="",disabled:s,fileTypes:t=["JPG","PNG","GIF","PDF","JPEG","DOC","DOCX","PPT","PPTX","RTF"],multiple:g=!1,clearAll:h=!1,onAction:x,errorMessage:v,label:j,uploadButtonText:_="Upload",clearButtonText:f="Clear",uploadOnChange:b=!1,pathField:N="url",onChange:T,uploadSuccessMessage:A,uploadFailedMessage:C,successMessageType:P="info",enableLoader:q=!1,errorMessageType:y="warning",value:k}=e,F=(0,l.__rest)(e,["className","disabled","fileTypes","multiple","clearAll","onAction","errorMessage","label","uploadButtonText","clearButtonText","uploadOnChange","pathField","onChange","uploadSuccessMessage","uploadFailedMessage","successMessageType","enableLoader","errorMessageType","value"]);const[M,O]=(0,n.useState)([]),[w,S]=(0,n.useState)(!1),[B,G]=(0,n.useState)(!1),[D,L]=(0,n.useState)(!1),z=e=>{const a=M.indexOf(e);M.splice(a,1),O([...M])},E=e=>{T&&T({value:e,checkForAction:!1}),S(!0),G(!1),L(!1)},J=()=>{T&&T({value:null,checkForAction:!1}),S(!1),L(!0),G(!1)},R=e=>{G(!0),x&&x({},Object.assign(Object.assign({},F),{success:E,failed:J,data:{files:e&&e.files||M}})),O([])};return(0,i.jsxs)("div",{className:`sq-image-uploader ${a}`,children:[j&&(0,i.jsx)("label",{className:"sq-image-uploader__label",children:j}),(0,i.jsxs)("div",{className:"sq-image-uploader__container",children:[k&&k[N]&&(0,i.jsxs)("div",{className:"sq-image-uploader__image-preview",children:[(0,i.jsx)("img",{src:k[N]}),(0,i.jsx)(u.A,{title:"Remove",className:"sq-image-uploader__image-preview-close",iconName:"close",onClick:()=>{T&&T({value:null,checkForAction:!1})}})]}),(0,i.jsx)("div",{className:"sq-image-uploader__image-placeholder",children:(0,i.jsx)(o.A,{title:t.join(", ").toLowerCase(),children:(0,i.jsx)("span",{children:(0,i.jsx)(r.E,{disabled:s,multiple:g,fileOrFiles:M.length?null:M,className:"sq-image-uploader__file",handleChange:e=>(0,l.__awaiter)(void 0,void 0,void 0,(function*(){const a=g?e:[e],s=[].filter.call(a,(e=>0===M.filter((a=>a.name===e.name)).length));if(s.length>0){const e=[...g?M:[],...s];yield O(e),b&&R({files:e})}})),name:"file",types:t})})})}),q&&B&&(0,i.jsx)(p.A,{className:"tp-progress--active",style:"default"}),M&&(0,i.jsx)("div",{className:"sq-image-uploader__list",children:M.map((e=>(0,i.jsxs)("div",{title:e.name,className:"sq-image-uploader__file-item",children:[(0,i.jsx)("div",{className:"sq-image-uploader__file-icon",children:(0,i.jsx)(d.A,{name:"file",size:"small"})}),(0,i.jsx)("div",{className:"sq-image-uploader__file-name",children:e.name}),(0,i.jsx)("div",{className:"sq-image-uploader__file-delete",onClick:()=>z(e),children:(0,i.jsx)(d.A,{name:"close",size:"small",variant:"error"})})]},e.name)))}),v&&(0,i.jsx)("div",{className:"sq-error",children:v}),!b&&(0,i.jsx)(c.A,{disabled:0===M.length,variant:"outlined",onClick:R,buttonText:_}),h&&(0,i.jsx)(c.A,{disabled:0===M.length,variant:"outlined",onClick:()=>{O([])},buttonText:f})]}),A&&!B&&w&&(0,i.jsx)(m.A,{type:P,message:A}),C&&!B&&D&&(0,i.jsx)(m.A,{type:y,message:C})]})};g.propTypes={className:t.P.string,uploadButtonText:t.P.string,clearButtonText:t.P.string,errorMessage:t.P.string,onChange:t.P.func,actionOnSelect:t.P.bool,clearAll:t.P.bool}}}]);